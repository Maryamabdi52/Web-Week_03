<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hami MiniMarket - Fresh. Local. Trusted.</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <nav class="nav">
            <div class="nav-container">
                <div class="logo">
                    <i class="fas fa-leaf"></i>
                    <span>Hami MiniMarket</span>
                </div>
                <ul class="nav-menu">
                    <li><a href="#home" class="nav-link">Home</a></li>
                    <li><a href="#products" class="nav-link">Products</a></li>
                    <li><a href="#about" class="nav-link">About</a></li>
                    <li><a href="#contact" class="nav-link">Contact</a></li>
                </ul>
                <div class="nav-auth" id="authButtons" style="display: flex; gap: 0.5rem; align-items: center;">
                    <button class="btn btn-secondary btn-sm" onclick="auth.showLoginModal()">
                        <i class="fas fa-sign-in-alt"></i> Login
                    </button>
                    <button class="btn btn-primary btn-sm" onclick="auth.showSignupModal()">
                        <i class="fas fa-user-plus"></i> Sign Up
                    </button>
                </div>
                <div class="nav-user" id="userInfo" style="display: none; align-items: center; gap: 1rem;">
                    <a href="order-history.html" class="nav-link" style="text-decoration: none;">
                        <i class="fas fa-history"></i> Orders
                    </a>
                    <span class="user-name"></span>
                    <button class="btn btn-secondary btn-sm" onclick="auth.logout()">
                        <i class="fas fa-sign-out-alt"></i> Logout
                    </button>
                </div>
                <div class="cart-counter" id="cartCounter" onclick="cart.toggleCartModal()" style="display: block; visibility: visible; opacity: 1;">
                    <i class="fas fa-shopping-cart"></i>
                    <span class="cart-badge" id="cartBadge"></span>
                </div>
                <div class="hamburger">
                    <span class="bar"></span>
                    <span class="bar"></span>
                    <span class="bar"></span>
                </div>
            </div>
        </nav>
    </header>

    <!-- Hero Section -->
    <section id="home" class="hero">
        <div class="hero-content">
            <h1 class="hero-title">Fresh. Local. Trusted.</h1>
            <p class="hero-subtitle">Discover the finest selection of fresh fruits and vegetables at Hami MiniMarket</p>
            <div class="hero-buttons">
                <a href="#products" class="btn btn-primary">Shop Now</a>
                <a href="#about" class="btn btn-secondary">Learn More</a>
            </div>
        </div>
        <div class="hero-image">
            
               <img src="picture2.jpg" alt="Fresh colorful fruits and vegetables">
        </div>
    </section>

    <!-- Products Section -->
    <section id="products" class="products">
        <div class="container">
            <h2 class="section-title">Our Fresh Products</h2>
            <p class="section-subtitle">Handpicked fruits and vegetables delivered fresh to your community</p>
            
            <!-- Filter Controls -->
            <div class="product-filters">
                <div class="filter-group">
                    <input type="text" id="productSearch" class="search-input" placeholder="Search products...">
                    <i class="fas fa-search search-icon"></i>
                </div>
                <div class="filter-group">
                    <select id="categoryFilter" class="filter-select">
                        <option value="all">All Categories</option>
                        <option value="Fruit">Fruits</option>
                        <option value="Vegetable">Vegetables</option>
                    </select>
                </div>
                <div class="filter-group">
                    <select id="priceFilter" class="filter-select">
                        <option value="all">All Prices</option>
                        <option value="1">Under $1</option>
                        <option value="2">Under $2</option>
                        <option value="3">Under $3</option>
                        <option value="5">Under $5</option>
                    </select>
                </div>
                <div class="filter-group">
                    <button id="clearFilters" class="btn btn-secondary">
                        <i class="fas fa-undo"></i> Clear
                    </button>
                </div>
            </div>
            
            <div class="products-grid" id="productsGrid">
                <!-- Products will be loaded dynamically from data/products.json -->
                <div class="loading-message" style="grid-column: 1 / -1; text-align: center; padding: 2rem;">
                    <i class="fas fa-spinner fa-spin" style="font-size: 2rem; color: #2E8B57;"></i>
                    <p>Loading products...</p>
                </div>
            </div>
        </div>
    </section>

    <!-- About Section -->
    <section id="about" class="about">
        <div class="container">
            <div class="about-content">
                <div class="about-text">
                    <h2 class="section-title">About Hami MiniMarket</h2>
                    <p>Welcome to Hami MiniMarket, your neighborhood's trusted source for fresh, locally-sourced fruits and vegetables. We believe in bringing the community together through quality produce and exceptional service.</p>
                    <p>Our mission is simple: to provide fresh, nutritious, and affordable produce while supporting local farmers and growers. Every item in our market is carefully selected to ensure the highest quality and freshness for you and your family.</p>
                    <div class="features">
                        <div class="feature">
                            <i class="fas fa-truck"></i>
                            <h3>Fresh Delivery</h3>
                            <p>Daily deliveries ensure maximum freshness</p>
                        </div>
                        <div class="feature">
                            <i class="fas fa-leaf"></i>
                            <h3>Local Sourcing</h3>
                            <p>Supporting local farmers and communities</p>
                        </div>
                        <div class="feature">
                            <i class="fas fa-heart"></i>
                            <h3>Quality Guarantee</h3>
                            <p>100% satisfaction guaranteed on all products</p>
                        </div>
                    </div>
                </div>
                <div class="about-image">
                   
                     <img src="picture8.jpg" alt="Hami MiniMarket store">
                </div>
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section id="contact" class="contact">
        <div class="container">
            <h2 class="section-title">Get In Touch</h2>
            <p class="section-subtitle">Have questions or want to place an order? We'd love to hear from you!</p>
            
            <div class="contact-content">
                <div class="contact-info">
                    <div class="contact-item">
                        <i class="fas fa-map-marker-alt"></i>
                        <div>
                            <h3>Visit Us</h3>
                            <p>Somalia<br>Mugdisho, Wartanabada</p>
                        </div>
                    </div>
                    <div class="contact-item">
                        <i class="fas fa-phone"></i>
                        <div>
                            <h3>Call Us</h3>
                            <p>(+252) 61-1-63-52-73</p>
                        </div>
                    </div>
                    <div class="contact-item">
                        <i class="fas fa-envelope"></i>
                        <div>
                            <h3>Email Us</h3>
                            <p>maryamabdimohamed63@gmail.com</p>
                        </div>
                    </div>
                </div>
                 
                <form class="contact-form" id="contactForm">
                    <div class="form-group">
                        <label for="name">Name *</label>
                        <input type="text" id="name" name="name" required>
                        <span class="error-message" id="nameError"></span>
                    </div>
                    
                    <div class="form-group">
                        <label for="email">Email *</label>
                        <input type="email" id="email" name="email" required>
                        <span class="error-message" id="emailError"></span>
                    </div>
                    
                    <div class="form-group">
                        <label for="message">Message *</label>
                        <textarea id="message" name="message" rows="5" required></textarea>
                        <span class="error-message" id="messageError"></span>
                    </div>
                    
                    <button type="submit" class="btn btn-primary">Send Message</button>
                </form>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <div class="logo">
                        <i class="fas fa-leaf"></i>
                        <span>Hami MiniMarket</span>
                    </div>
                    <p>Fresh. Local. Trusted. Your neighborhood's source for quality produce.</p>
                </div>
                <div class="footer-section">
                    <h3>Quick Links</h3>
                    <ul>
                        <li><a href="#home">Home</a></li>
                        <li><a href="#products">Products</a></li>
                        <li><a href="#about">About</a></li>
                        <li><a href="#contact">Contact</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h3>Follow Us</h3>
                    <div class="social-links">
                        <a href="https://www.facebook.com/mariam.miimi.2025/" aria-label="Facebook" target="_blank"><i class="fab fa-facebook"></i></a>
                        <a href="https://www.instagram.com/mariza_abdi/" aria-label="Instagram" target="_blank"><i class="fab fa-instagram"></i></a>
                        <a href="https://www.linkedin.com/in/maryamabdi-mohamed-675a91375/" aria-label="LinkedIn" target="_blank"><i class="fab fa-linkedin"></i></a>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 Hami MiniMarket. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- Back to Top Button -->
    <button id="backToTop" class="back-to-top" aria-label="Back to top">
        <i class="fas fa-arrow-up"></i>
    </button>

    <!-- Cart Modal -->
    <div class="cart-modal" id="cartModal">
        <div class="cart-modal-overlay" onclick="cart.closeCartModal()"></div>
        <div class="cart-modal-content">
            <div class="cart-modal-header">
                <h2>Your Cart</h2>
                <button class="close-cart-btn" onclick="cart.closeCartModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="cart-modal-body">
                <div class="cart-items" id="cartItems">
                    <!-- Cart items will be rendered here -->
                </div>
            </div>
            <div class="cart-modal-footer">
                <div class="cart-summary" id="cartSummary">
                    <!-- Cart summary will be rendered here -->
                </div>
                <button class="btn btn-secondary clear-cart-btn" onclick="cart.clearCart()">
                    <i class="fas fa-trash-alt"></i> Clear Cart
                </button>
            </div>
        </div>
    </div>

    <!-- Auth Modals -->
    <div class="auth-modal" id="loginModal">
        <div class="auth-modal-overlay" onclick="auth.closeAuthModals()"></div>
        <div class="auth-modal-content">
            <div class="auth-modal-header">
                <h2>Login</h2>
                <button class="close-auth-btn" onclick="auth.closeAuthModals()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <form class="auth-form" id="loginForm" onsubmit="handleLogin(event)">
                <div class="form-group">
                    <label for="loginEmail">Email</label>
                    <input type="email" id="loginEmail" required>
                </div>
                <div class="form-group">
                    <label for="loginPassword">Password</label>
                    <input type="password" id="loginPassword" required>
                </div>
                <div class="auth-error" id="loginError"></div>
                <button type="submit" class="btn btn-primary">Login</button>
                <p class="auth-switch">Don't have an account? <a href="#" onclick="event.preventDefault(); auth.closeAuthModals(); auth.showSignupModal();">Sign up</a></p>
            </form>
        </div>
    </div>

    <div class="auth-modal" id="signupModal">
        <div class="auth-modal-overlay" onclick="auth.closeAuthModals()"></div>
        <div class="auth-modal-content">
            <div class="auth-modal-header">
                <h2>Sign Up</h2>
                <button class="close-auth-btn" onclick="auth.closeAuthModals()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <form class="auth-form" id="signupForm" onsubmit="handleSignup(event)">
                <div class="form-group">
                    <label for="signupName">Name</label>
                    <input type="text" id="signupName" required>
                </div>
                <div class="form-group">
                    <label for="signupEmail">Email</label>
                    <input type="email" id="signupEmail" required>
                </div>
                <div class="form-group">
                    <label for="signupPassword">Password (min 6 characters)</label>
                    <input type="password" id="signupPassword" required minlength="6">
                </div>
                <div class="auth-error" id="signupError"></div>
                <button type="submit" class="btn btn-primary">Sign Up</button>
                <p class="auth-switch">Already have an account? <a href="#" onclick="event.preventDefault(); auth.closeAuthModals(); auth.showLoginModal();">Login</a></p>
            </form>
        </div>
    </div>

    <!-- Load Modular JS -->
    <script src="js/storage.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/product.js"></script>
    <script src="js/cart.js"></script>
    <script src="script.js"></script>
    <script>
        // Auth form handlers
        function handleLogin(e) {
            e.preventDefault();
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;
            const errorDiv = document.getElementById('loginError');
            
            const result = auth.login(email, password);
            if (result.success) {
                errorDiv.textContent = '';
                errorDiv.className = 'auth-success';
                errorDiv.textContent = result.message;
                setTimeout(() => {
                    auth.closeAuthModals();
                    errorDiv.className = 'auth-error';
                }, 1000);
            } else {
                errorDiv.textContent = result.message;
            }
        }

        function handleSignup(e) {
            e.preventDefault();
            const name = document.getElementById('signupName').value;
            const email = document.getElementById('signupEmail').value;
            const password = document.getElementById('signupPassword').value;
            const errorDiv = document.getElementById('signupError');
            
            const result = auth.signup(name, email, password);
            if (result.success) {
                errorDiv.textContent = '';
                errorDiv.className = 'auth-success';
                errorDiv.textContent = result.message;
                setTimeout(() => {
                    auth.closeAuthModals();
                    errorDiv.className = 'auth-error';
                }, 1500);
            } else {
                errorDiv.textContent = result.message;
            }
        }

        // Initialize auth UI on page load
        document.addEventListener('DOMContentLoaded', () => {
            auth.updateUI();
        });
    </script>
</body>
</html>
